"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[249],{3773:(e,s,t)=>{t.r(s),t.d(s,{default:()=>C});var r=t(4975),i=t(5225),n=(t(4014),t(4826),t(8270)),a=t(579);const o=e=>{let{children:s,handler:t,index:r,activeIndex:i}=e;return(0,a.jsx)("div",{onClick:()=>t(r),className:"sidebar__link ".concat(i===r?"change":""),children:s})};var l=t(5043),c=t(3003),d=t(955),p=t(446),h=t.n(p),x=t(6580);const u=(0,l.forwardRef)(((e,s)=>{let{children:t,photo:r,date:i,path:n}=e;return(0,a.jsxs)("div",{ref:s,className:"portfolio-content",children:[r.map(((e,s)=>(0,a.jsx)("div",{className:"portfolio-content__item",children:(0,a.jsx)(x.N_,{to:"/case/".concat(n),className:"portfolio-content__item-content",children:(0,a.jsx)("img",{loading:"lazy",src:e.path,alt:"main-photo"})})},s))),(0,a.jsxs)(x.N_,{to:"/case/".concat(n),className:"portfolio-content__item-title",children:[t," ",(0,a.jsx)("span",{children:i?h()(i).format("DD.MM.YYYY"):null})]})]})}));var m=t(8904),j=t(2252),f=t(1656),_=t(3390),y=t(3727),w=t(3204),g=t(3440),v=t(2624),N=t(6644),b=t(5206);const A=e=>{var s;let{post:t,key:r}=e;return console.log(t),(0,a.jsxs)(x.N_,{to:"/case/".concat(t._id),className:"portfolio-grid__item",children:[(0,a.jsx)("img",{src:null===(s=t.prewieImg[0])||void 0===s?void 0:s.path,alt:t.name}),(0,a.jsxs)("div",{className:"portfolio-grid__title",children:[t.name," ",(0,a.jsx)("span",{children:t.date?"/".concat(h()(t.date).format("DD.MM.YYYY")):null})]})]},r+1)};var k=t(9704);const C=()=>{const e=(0,c.wA)(),[s,t]=(0,l.useState)(!1),[p,h]=(0,l.useState)(!1),x=(0,l.useRef)(null),[C,R]=(0,l.useState)(0),S=(0,l.useRef)([]);(0,l.useEffect)((()=>{e((0,m._T)())}),[e]);const E=(0,c.d4)((e=>e.dirs.dirs)).filter((e=>e.inPortfolio)),Y=e=>{x.current&&(x.current.slideTo(e),R(e))};(0,l.useEffect)((()=>{q(C)}),[C]);const q=e=>{const s=n.os.utils.selector(S.current[e]);s&&(n.os.from(s(".portfolio-content__item-content"),{delay:.85,stagger:.1,opacity:0,scale:1.2}),n.os.from(s(".portfolio-content__item-title"),{x:100,opacity:0,duration:1.5,ease:"power2.inOut"}))},z=(0,l.useRef)(null),I=(0,l.useRef)(null),D=(0,l.useRef)(null);(0,l.useEffect)((()=>{p?(n.os.to(D.current,{onComplete:()=>{D.current.style.position="fixed"}}),n.os.to(I.current,{autoAlpha:0,onComplete:()=>{I.current.style.display="none"}}),n.os.to(z.current,{autoAlpha:1,duration:.5,delay:.5})):(n.os.to(D.current,{onComplete:()=>{D.current.style.position="sticky"}}),n.os.to(z.current,{autoAlpha:0,duration:.5}),n.os.to(I.current,{autoAlpha:1,duration:.5,delay:.5,onComplete:()=>{I.current.style.display="block"}}))}),[p]);const M=(0,d.w)(D),P=(0,d.w)(z);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"wrapper",children:[(0,a.jsx)("div",{ref:z,style:{position:"absolute",top:0,left:0,width:P||"100%",minHeight:"100%",overflow:"hidden"},children:(0,a.jsxs)("div",{className:"wrapper-grid",children:[(0,a.jsx)("div",{className:"wrapper-grid__item",children:(0,a.jsx)(r.RC,{direction:"vertical",mousewheel:!0,keyboard:{enabled:!0,onlyInViewport:!0},modules:[i.FJ,i.s3],style:{width:"100%",height:"100%"},spaceBetween:20,slidesPerView:1,onSlideChange:e=>R(e.activeIndex),onSwiper:e=>{x.current=e},lazy:{loadPrevNext:!0},children:E.map(((e,s)=>(0,a.jsx)(r.qr,{children:(0,a.jsx)(u,{ref:e=>S.current[s]=e,photo:e.prewieImg,date:e.date,path:e._id,className:"swiper-lazy",children:e.name},s)},s)))})}),(0,a.jsx)("div",{className:"wrapper-grid__item",children:(0,a.jsx)("div",{className:"sidebar",children:(0,a.jsx)("div",{className:"sidebar__list-wrapper",children:(0,a.jsx)("ul",{className:"sidebar__list",children:E.map(((e,s)=>(0,a.jsx)("li",{children:(0,a.jsx)(o,{handler:Y,index:s,activeIndex:C,children:e.name})},e._id)))})})})})]})}),(0,a.jsx)("div",{ref:I,style:{width:"100%",display:"none",opacity:0},children:(0,a.jsx)("div",{className:"portfolio-grid",children:E.map(((e,s)=>(0,a.jsx)(A,{post:e},e._id)))})})]}),(0,a.jsxs)("div",{ref:D,style:{width:M||"100%"},className:"wrapper-widget",children:[(0,a.jsxs)("div",{className:"wrapper-widget__contacts",children:[(0,a.jsx)("p",{children:"\u041d\u0430\u043f\u0438\u0448\u0438 \u043c\u043d\u0435"}),(0,a.jsxs)(g.A.Group,{trigger:"click",icon:(0,a.jsx)(j.A,{}),shape:"square",style:{bottom:"36px"},children:[(0,a.jsx)("a",{style:{borderRadius:"8px"},href:"https://t.me/vi_bratygina",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(g.A,{style:{borderStartStartRadius:"8px",borderStartEndRadius:"8px"},shape:"square",icon:(0,a.jsx)(w.zyo,{})})}),(0,a.jsx)("a",{style:{borderRadius:"8px"},href:"https://wa.me/79063649891",target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(g.A,{style:{borderEndStartRadius:"8px",borderEndEndRadius:"8px"},shape:"square",icon:(0,a.jsx)(w.EcP,{})})})]})]}),(0,a.jsxs)("div",{className:"wrapper-widget__contacts",children:[(0,a.jsx)("p",{style:{width:"140px",right:"66px"},children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441\u0441\u044b\u043b\u043a\u043e\u0439"}),(0,a.jsx)(g.A.Group,{icon:(0,a.jsx)(j.A,{size:48}),shape:"square",style:{bottom:"36px"},children:(0,a.jsx)(g.A,{onClick:()=>t(!0),shape:"square",icon:(0,a.jsx)(f.A,{size:48,style:{transform:"rotate(180deg)"}})})})]}),(0,a.jsx)(g.A.Group,{type:"primary",style:{bottom:"36px"},icon:(0,a.jsx)(j.A,{}),children:(0,a.jsxs)("div",{className:"wrapper-widget_switch",children:["\u0420\u0435\u0436\u0438\u043c \u0441\u043b\u0430\u0439\u0434\u0430",(0,a.jsx)(v.A,{onChange:e=>{h(e)},checkedChildren:(0,a.jsx)(_.A,{}),unCheckedChildren:(0,a.jsx)(y.A,{}),style:{marginLeft:"5px"}})]})}),(0,a.jsx)(N.A,{open:s,onCancel:()=>{t(!1)},footer:[(0,a.jsx)(b.Ay,{onClick:()=>{t(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"},"Cancel")],children:(0,a.jsx)(k.A,{})})]})]})}}}]);
//# sourceMappingURL=249.70e54ced.chunk.js.map