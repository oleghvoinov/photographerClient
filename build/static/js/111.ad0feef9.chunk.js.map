{"version":3,"file":"static/js/111.ad0feef9.chunk.js","mappings":"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","sources":["components/UI/mainCart/MyMainCart.jsx","components/UI/loader/MyLoader.jsx","components/UI/myFronInner/MyFronInner.jsx"],"sourcesContent":["import \"./myMainCart.scss\";\r\n\r\nconst MyMainCart = ({ children, alt, src, ...props }) => {\r\n  return (\r\n    <div className=\"main-nav__item\" {...props}>\r\n      <div className=\"main-nav__link\">\r\n        <img src={src} alt={alt} />\r\n      </div>\r\n      <div className=\"main-nav__title-wrapper\">\r\n        <h2 className=\"main-nav__title\">\r\n          <span>{children}</span>\r\n        </h2>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyMainCart;\r\n","import \"./loader.scss\";\r\n\r\nconst MyLoader = () => {\r\n  return (\r\n    <div className=\"loader-wrapper\">\r\n      <span className=\"loader\"></span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyLoader;\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { gsap } from \"gsap\";\r\n\r\nimport MyMainCart from \"../mainCart/MyMainCart\";\r\nimport \"./myFronInner.scss\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getMainFile } from \"../../../API/file\";\r\nimport MyLoader from \"../loader/MyLoader\";\r\n\r\nconst MyFronInner = () => {\r\n  const router = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const el = useRef();\r\n  const q = gsap.utils.selector(el);\r\n\r\n  const fileList = useSelector((state) => {\r\n    return state.mainFiles.filesMainPage;\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch(getMainFile());\r\n  }, []);\r\n\r\n  console.log(fileList);\r\n\r\n  // Ждём загрузки <img> в DOM\r\n  useEffect(() => {\r\n    if (fileList.length === 0) return;\r\n    if (!el.current) return; // защита от undefined\r\n\r\n    const imgs = el.current.querySelectorAll(\"img\");\r\n    if (imgs.length === 0) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    let loaded = 0;\r\n    imgs.forEach((img) => {\r\n      if (img.complete) {\r\n        loaded++;\r\n        if (loaded === imgs.length) setLoading(false);\r\n      } else {\r\n        img.addEventListener(\"load\", () => {\r\n          loaded++;\r\n          if (loaded === imgs.length) setLoading(false);\r\n        });\r\n        img.addEventListener(\"error\", () => {\r\n          loaded++;\r\n          if (loaded === imgs.length) setLoading(false);\r\n        });\r\n      }\r\n    });\r\n  }, [fileList]);\r\n\r\n  useEffect(() => {\r\n    if (!loading) {\r\n      gsap.to(q(\".main-nav__item\"), {\r\n        opacity: 1,\r\n        rotationY: 0,\r\n        scale: 1,\r\n        x: 0,\r\n        stagger: 0.4,\r\n        duration: 0.8,\r\n        ease: \"power2.out\",\r\n      });\r\n    }\r\n  }, [loading]);\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      {loading && <MyLoader />}\r\n      <div\r\n        className=\"container\"\r\n        style={{ visibility: loading ? \"hidden\" : \"visible\" }}\r\n      >\r\n        <div className=\"main-nav\" ref={el}>\r\n          <MyMainCart\r\n            onClick={() => router(\"portfolio\")}\r\n            src={fileList[0]?.path}\r\n            alt=\"портфолио\"\r\n          >\r\n            работы\r\n          </MyMainCart>\r\n          <MyMainCart\r\n            onClick={() => router(\"prices\")}\r\n            src={fileList[1]?.path}\r\n            alt=\"услуги\"\r\n          >\r\n            услуги\r\n          </MyMainCart>\r\n          <MyMainCart\r\n            onClick={() => router(\"about\")}\r\n            src={fileList[2]?.path}\r\n            alt=\"Обо мне\"\r\n          >\r\n            Контакты\r\n          </MyMainCart>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyFronInner;\r\n"],"names":["_ref","children","alt","src","props","_objectWithoutProperties","_excluded","_jsxs","_objectSpread","className","_jsx","MyLoader","MyFronInner","_fileList$","_fileList$2","_fileList$3","router","useNavigate","dispatch","useDispatch","loading","setLoading","useState","el","useRef","q","gsap","utils","selector","fileList","useSelector","state","mainFiles","filesMainPage","useEffect","getMainFile","console","log","length","current","imgs","querySelectorAll","loaded","forEach","img","complete","addEventListener","to","opacity","rotationY","scale","x","stagger","duration","ease","style","visibility","ref","MyMainCart","onClick","path"],"sourceRoot":""}